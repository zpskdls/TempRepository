CREATE TABLE users (
    id VARCHAR2(50) PRIMARY KEY,
    pwd VARCHAR2(100) NOT NULL,
    name VARCHAR2(50) NOT NULL,
    email VARCHAR2(100),
    phone VARCHAR2(20),
    address VARCHAR2(200)
);
INSERT INTO users(id, pwd, name, email, phone, address)
VALUES('test', '1234', '테스트', 'test@test.com', '010-1111-2222', '서울');

INSERT INTO users(id, pwd, name, email, phone, address)
VALUES('test2', '1234', '테스트', 'test@test.com', '010-1111-2222', '서울');

-- users 테이블 구조 확인
DESC users;

--데이터검색
select * from users;

COMMIT;

DROP TABLE users;

CREATE TABLE board_comment (
    comment_seq NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    board_seq   NUMBER NOT NULL,
    content     CLOB NOT NULL,
    logtime     TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    user_id VARCHAR2(50),
    author_name VARCHAR2(50)
);

ALTER TABLE board_comment
ADD CONSTRAINT fk_comment_board_seq
FOREIGN KEY (board_seq)
REFERENCES KGCBoard(seq);

ALTER TABLE board_comment
ADD CONSTRAINT fk_comment_user_id
FOREIGN KEY (user_id)
REFERENCES users(id);

--데이터검색
select * from board_comment;

create table KGCBoard(
    seq NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    board_subject VARCHAR2(200) NOT NULL,
    board_content CLOB,
    logtime TIMESTAMP,
    hit number,
    user_id VARCHAR2(50),
    author_name VARCHAR2(50)
);

ALTER TABLE KGCBoard
ADD CONSTRAINT fk_board_user_id
FOREIGN KEY (user_id)
REFERENCES users(id);

--테이블 목록 확인
select * from tab;

--데이터검색
select * from KGCBoard;

--테이블 삭제
drop table board_comment purge;

commit;
